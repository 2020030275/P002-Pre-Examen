

<!DOCTYPE html>
<html lang="en">
<%-include('partials/encabezado.html')%>

<body>
    <div class="container">
        <div class="row">
            <div class="col-md-6 offset-md-3">
                <form class="needs-validation" action="/index" method="post" >
                    <div class="mb-3">
                      <label for="numBoleto" class="form-label">Numero de boleto</label>
                      <input type="text" class="form-control" id="numBoleto" name="numBoleto" required>
                      <div class="invalid-feedback">
                        Introduzca el nuqmero de boleto
                      </div>
                      
                    </div>
                    <div class="mb-3">
                      <label for="destino" class="form-label">Destino</label>
                      <input type="text" class="form-control" name="destino" id="destino" required >
                      
                      <div class="invalid-feedback">
                        Introduzca el numero de boleto
                      </div>
                      

                    </div>
                    <div class="mb-3">
                        <label for="nombreDelCliente" class="form-label">Nombre del cliente</label>
                        <input type="text" class="form-control" id="nombreDelCliente" name="nombreDelCliente" required>
                        <div class="invalid-feedback">
                            Introduzca el nombre del cliente
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="anosCumplidos" class="form-label">AÃ±os cumplidos</label>
                        <input type="text" class="form-control" id="anosCumplidos" name="anosCumplidos" >
                    </div>
                   
                    <div class="mb-3">
                        <label for="tipoDeViaje" class="form-label">Tipo de viaje</label>
                        <select class="form-select" aria-label="Tipo de viaje" id="tipoDeViaje" name="tipoDeViaje" required >
                            <option selected value="-1">Seleccione un tipo de viaje</option>
                            <option value="1">Sencillo</option>
                            <option value="2">Doble</option>
                          </select>
                          <div class="invalid-feedback">
                            Seleccione un tipo de viaje
                          </div>


                    </div>
    
                    <div class="mb-3">
                        <label for="precio" class="form-label">Precio</label>
                        <input type="text" class="form-control" id="precio" name="precio"required >
                        <div class="invalid-feedback">
                            Introduzca el precio
                        </div>
                    </div>
                    <hr>
                    <button type="submit" class="btn btn-primary">Calcular</button>
                    <button type="reset" class="btn btn-danger">Limpiar</button>
                  </form>
                  <br>

                  
                  <%  
                      var subtotal=0;
                      var impuesto=0;
                      var descuento=0;
                      var totalAPagar=0;
                
                      
                      subtotal = precio;
                      impuesto = subtotal * 0.16;
                      descuento = subtotal * 0.20;
                        
                        
                        if(tipoDeViaje == 2){
                          totalAPagar = Number(subtotal) + Number(impuesto) - Number(descuento);
                        }else{
                            totalAPagar = Number(subtotal) + Number(impuesto) ;
                        }

                      if(anosCumplidos >= 60){
                        totalAPagar = totalAPagar/2
                      }


                      


                  %>
    
                  <div class="mb-3">
                    <label for="subtotal" class="form-label">Subtotal</label>
                    <input class="form-control" type="text" value="<%=subtotal%>" aria-label="Subtotal" disabled id="subtotal" name="subtotal">
                  
                  </div>
                  <div class="mb-3">
                    <label for="impuesto" class="form-label">Impuesto 16%</label>
                    <input class="form-control" type="text"  value="<%=impuesto%>" aria-label="impuesto" disabled id="impuesto" name="impuesto">
                  </div>
                  <div class="mb-3">
                    <label for="descuento" class="form-label">Descuento</label>
                    <input class="form-control" type="text"  value="<%=descuento%>" aria-label="descuento" disabled id="descuento" name="descuento">
                  </div>
                  <div class="mb-3">
                    <label for="totalAPagar" class="form-label">Total a pagar</label>
                    <input class="form-control" type="text" value="<%=totalAPagar%>" aria-label="totalAPagar" disabled id="totalAPagar" name="totalAPagar">
                  </div>
    
            </div>
        </div>
    </div>
    
    <%-include('partials/footer.html')%>
</body>
</html>
