

<!DOCTYPE html>
<html lang="en">
<%-include('partials/encabezado.html')%>

<body>
    <div class="container">
        <div class="row">
            <div class="col-md-6 offset-md-3">
                <form class="needs-validation" novalidate>
                    <div class="mb-3">
                      <label for="numBoleto" class="form-label">Numero de boleto</label>
                      <input type="text" class="form-control" id="numBoleto" required>
                      <div class="invalid-feedback">
                        Introduzca el nuqmero de boleto
                      </div>
                      
                    </div>
                    <div class="mb-3">
                      <label for="destino" class="form-label">Destino</label>
                      <input type="text" class="form-control" id="destino" required>
                      
                      <div class="invalid-feedback">
                        Introduzca el nuqmero de boleto
                      </div>
                      

                    </div>
                    <div class="mb-3">
                        <label for="nombreDelCliente" class="form-label">Nombre del cliente</label>
                        <input type="text" class="form-control" id="nombreDelCliente" required>
                        <div class="invalid-feedback">
                            Introduzca el nombre del cliente
                        </div>
                    </div>
                    <div class="mb-3">
                        <label for="anosCumplidos" class="form-label">AÃ±os cumplidos</label>
                        <input type="text" class="form-control" id="anosCumplidos">
                    </div>
                   
                    <div class="mb-3">
                        <label for="tipoDeViaje" class="form-label">Tipo de viaje</label>
                        <select class="form-select" aria-label="Tipo de viaje" id="tipoDeViaje" required>
                            <option selected>Seleccione un tipo de viaje</option>
                            <option value="1">Sencillo</option>
                            <option value="2">Doble</option>
                          </select>
                          <div class="invalid-feedback">
                            Seleccione un tipo de viaje
                          </div>


                    </div>
    
                    <div class="mb-3">
                        <label for="precio" class="form-label">Precio</label>
                        <input type="text" class="form-control" id="precio" required>
                        <div class="invalid-feedback">
                            Introduzca el precio
                        </div>
                    </div>
                    <hr>
                    <button type="submit" class="btn btn-primary">Calcular</button>
                    <button type="reset" class="btn btn-danger">Limpiar</button>
                  </form>
                  <br>

                  <%
                    var subtotal=0;
                    var impuesto=0;
                    var descuento=0;
                    var totalAPagar=0;
                    
                    if (tipoDeViaje !=null && precio !=null) {
                        subtotal = req.query.precio;
                        impuesto = subtotal * 0.16;
                        descuento = subtotal * 0.20;
                        
                        
                        if(tipoDeViaje == 2){
                          totalAPagar = subtotal + impuesto - descuento;
                        }else{
                            totalAPagar = subtotal + impuesto ;
                        }

                        
                    }


                  %>
    
                  <div class="mb-3">
                    <label for="subtotal" class="form-label">Subtotal</label>
                    <input class="form-control" type="text" value="<%=subtotal%>" aria-label="Subtotal" readonly id="subtotal">
                  </div>
                  <div class="mb-3">
                    <label for="impuesto" class="form-label">Impuesto 16%</label>
                    <input class="form-control" type="text"  aria-label="impuesto" readonly id="impuesto">
                  </div>
                  <div class="mb-3">
                    <label for="descuento" class="form-label">Descuento</label>
                    <input class="form-control" type="text"  aria-label="descuento" readonly id="descuento">
                  </div>
                  <div class="mb-3">
                    <label for="totalAPagar" class="form-label">Total a pagar</label>
                    <input class="form-control" type="text"  aria-label="totalAPagar" readonly id="totalAPagar">
                  </div>
    
            </div>
        </div>
    </div>
    
    <%-include('partials/footer.html')%>
</body>
</html>
